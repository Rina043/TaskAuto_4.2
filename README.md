# План автоматизации тестирования формы заявки вклада «Накопилка» от Альфа-Банка

**Цель:** Протестировать отправку заявки на вклад «Накопилка» (начиная с захода на главную страницу).

Страница вклада: https://alfabank.ru/make-money/savings-account/nakopilka/?platformId=alfasite
Начальная страница входа: https://alfabank.ru/

**Внимание!**
> Окрытие вклада «Накопилка» прекращено с 21.07.2020 г. На данный момент сервис находится в архиве, подать заявление невозможно.
<img width="960" alt="архив накопилка" src="https://user-images.githubusercontent.com/67234113/106284093-2dcf3680-625c-11eb-9308-8d2487aea371.png">

# 1. Перечень автоматизируемых сценариев

***Cценарии Happy Path***:

**Happy Path 1**: Переход на страницу архивных счетов и депозитов является единственно доступным, так как сервис убрали из основных доступных вкладов в разделе - "накопительные счета".
<img width="841" alt="накопилка путь 2" src="https://user-images.githubusercontent.com/67234113/106285490-ffeaf180-625d-11eb-9e3f-4d3f1ff74cb0.png">

<img width="883" alt="накопилка путь" src="https://user-images.githubusercontent.com/67234113/106285532-0bd6b380-625e-11eb-9dc2-cf3979b9a86a.png">

>Небольшое отступление: так как заполнить заявку черех веб-интерфейс уже не получится, поскольку кнопка "Заполнить заявку" - отсутствует на сайте в данный момент, попробуем представить дальньшее поведение системы, исходя из предоставленных в задании скриншотов.

*Шаги по воспроизведению*:
1. Открыть главную страница сайта [Альфа-банка](https://alfabank.ru/);
2. Навести курсор на меню "Вклады";
3. В выпадающем меню нажать на вклад "Накопилка";
4. Выбираем вкладку "Архивные счета и депозиты";
5. На странице "Архивные счета и депозиты" нажать на название вклада "Накопилка";
6. Вводим валидные Имя и Телефон в поля: "Имя", "Мобильный телефон", например, "Екатерина", "+7 (937) 645-75-50";
7. Выбираем чекбокс Согласие на обработку данных;
8. Нажимаем кнопку "Мы перезвоним";
9. Появляется страница с текстом "Спасибо, скоро мы вам перезвоним!".

**Happy Path 2**: Переход с главной страницы через выпадающее меню "Вклады" (как должно было бы быть изначально, если бы вклад не закрылся).

*Шаги по воспроизведению*:
1. Открыть главную страница сайта [Альфа-банка](https://alfabank.ru/);
2. Навести курсор на меню "Вклады";
3. В выпадающем меню нажать на вклад "Накопилка";
4. Нажать кнопку "Заполнить заявку";
5. Вводим валидные Имя и Телефон в поля: "Имя", "Мобильный телефон", например, "Екатерина", "+7 (937) 645-75-50";
6. Выбираем чекбокс Согласие на обработку данных;
7. Нажимаем кнопку "Мы перезвоним";
8. Появляется страница с текстом "Спасибо, скоро мы вам перезвоним!".

## **Теперь переходим непосредственно к тестированию формы заявки**.

Каждый тестовый сценарий для тестирования формы подразумевает стандартный путь захода на страницу формы, например, как в **Happy Path 1**.

**Поле "Имя"**

Поскольку у нас нет заявленных требований к системе и требований к самой форме (обязательно ли вводить фио полностью или достаточно ввести только имя), будем думать,  для того, чтобы оставить заявку, достаточно предоставить только имя, вписав его в соответствующее поле. Исходя из этого, можем предположить, что допустим, поле "Имя",  должно принимать имя, начинающееся с заглавной буквы, состоящее не менее чем из двух букв, но не более 25 символов. Также поле должно принимать на вход  только кириллицу и дефис.

*Позитивные сценарии*

- Имя на русском языке
- Имя состоит из одного слова (например, Екатерина)
- Длина имени должна быть от 2-25 символов (например, Ян)
- Могут использоваться двойные имена (например,Александра-Мария)
- В имени может присутствовать буква ё (например, Алёна)

*Негативные сценарии*

Предположим, что реакция системы на несоблюдение требований это неактивная кнопка “Мы перезвоним”, также должно возникать сообщение об ошибке.

- Имя на латинице (например, Ivan)
- Пустое поле
- Имя из одной буквы (например, И)
- Спецсимволы в имени (например, %*$@)
- Имя состоящее более 25 (например, Александрия Максимилиановна)
- В имени присутствуют цифры (например, Иван1234)

**Поле "Мобильный телефон"**
 
 Требования к полю: в поле принимается телефон из 10 цифр, первая цифра автоматически выставляется 7, как и знак "+" в начале. В случае  некорректного заполнения данного поля, кнопка “Мы перезвоним” неактивна и возникает сообщение об ошибке.

 *Позитивный сценарий*

10-значный номер телефона (+7 выставляется автоматически, например, +79879103535)

*Негативные сценарии*

- Номер телефона состоит более чем из 11 цифр
- Номер телефона состоит менее чем из 11 цифр
- Пустое поле
- Номер телефона содержит спецсимволы или буквы

**Тестирование чекбокса соглашения (слева от “Я согласен”)**

*Позитивный сценарий*

Поля “Имя” и “Мобильный телефон” всегда заполняется полностью валидными данными (“Иван”, “+79879103535”).

*Негативные сценарий*

Заявка не должна отправляться если не проставлена галочка в чекбоксе.

**Тестирование доступности формы о персональных данных**

Для того, чтобы проверить доступность формы, необходимо:

- зайти на страницу заявки 
- кликнуть по ссылке "Я согласен(а) на обработку персональных данных"
 
 После этих действий должно появиться всплывающее на экране содержание формы, которое должно закрыться, если нажать на "Х" в правом верхнем углу старницы.

 # 2. Перечень используемых инструментов с обоснованием выбора

**Java 11** 

Универсальный язык, позволяющий работать на всех ОС и большинстве оборудования.

**IntelliJ IDEA** 

Многофункциональная среда разработки, которая позволяет минимизировать количество ошибок в коде, благодаря втроенному редактору, что в свою очередь сократит время на разработку тестов. Программа предотавляется бесплатно, предлагает возможность интеграции с GitHub, объемную библиотеку фреймворков и большое количество расширений, плагинов.

**JUnit5**

Тестовый фреймворк, совместимый с JVM и IntelliJ IDEA, содержит все необходимые аннотации.

**Git** 

Cистема контроля версий, предоставляет возможность одновременной параллельной разработки, также есть интеграция с IntelliJ IDEA

**Gradle**

Cистема сборки проекта, явяляется альтеранативой Maven, но в отличие от Maven, есть возможность сократить объем кода, проще подключаются внешние зависимости и, в целом, система более гибкая.

**Faker**

Плагин для генерации случайных данных для тестов. Позволяет создать различные данные автоматически с учетом местоположения, необходим в том случае, когда данные в проекте не должны быть захардкожены.

**Selenide**

Фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически. Плюс фреймворка - простое написание кода тестов.

**Lombok**

Плагин для создания аннотаций, позволяющий сократить время на написание кода и заменяющих значительное количество однообразных, повторяющихся конструкторов, н-р, getters/setters и т.д.

**Appveyor**

Система CI, осуществояющая непрерывный контроль интеграции кода. Является бесплатной, интегруется  с Github, просто подключается и настраивается.

**Allure Report** 

Система репортинга. Просто подключается, предостваляет подробную инфографику по пройденному тестированию, позволяет отслеживать данные проекта на протяжении всей работы над проектом.

# 3. Перечень необходимых разрешений/данных/доступов от банка

- Так как мы тестируем публичный сервис, то нам понадобится письменное разрешение от Альфа-Банка, где мы должны прописать все используемые инструменты и тестовый данные, которые в последствие можно будет отследить и удалить из базы данных.
- Тестовые данные будут генерироваться через Faker, поэтому реальные данные пользователей использовать не потребуется
- Заявку на сайте может оставить и незарегистрированный пользователь, создавать тестового пользователя не обязательно. По этой причине, пароли или доступы в данном проекте не потребуются

# 4. Перечень и описание возможных рисков при автоматизации

1. Дополнительная нагрузка на сайт.
2. Изменение структуры страницы (правка дизайна, замена html/ css селекторов ) может являться причиной падения тестов. Вследствие чего, придется тесты переписывать заново.
3. Также возможно изменение структуры страницы, например, как в данном случае, вклад прекратил свою работу и был перенесен в архив.
4. По итогу двух предыдущих пунктов, делаем вывод, что для автоматизации тестирование в данном случае, понадобится значительно больше времени и, соответственно, оно дороже обойдется по стоимости.

# 5. Перечень необходимых специалистов для автоматизации

Потребуется один специалист по автоматизированному тестированию.

# 6. Интервальная оценка с учётом рисков (в часах) 

Оценка в многом зависит от уровня квалификации и опыта специалиста. Возьмем за основу предложение, что у специалиста уже есть опыт работы в подобном проекте.

В таком случае, настройка рабочей программы, др. необходимых инструментов, написание кода может занять - 6-8 часов;

Подготовка отчетной документации - 2-4 часа (с т.ч. оформление баг-репортов).

Дополнительно учитываем время, затраченное на согласование разрешения тестировать рабочий сайт банка - 16-24 часа (2-3 рабочих дня).
И запас времени на случай возникновения непридвиденных обстоятельств, примерно, 8 часов.
